<!DOCTYPE html>
<html lang="en" ng-app="plannr">
<head>
    <meta charset="UTF-8">
    <title>Plannr</title>
    <link rel="stylesheet" href="frameworks/bootstrap/dist/css/bootstrap.css">
    <link rel="stylesheet" href="frameworks/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="frameworks/bootstrap/dist/css/bootstrap-theme.css">
    <link rel="stylesheet" href="style/plannr.css">
    <script src="frameworks/jquery/dist/jquery.js"></script>
    <script src="frameworks/jquery-ui/jquery-ui.js"></script>
    <script src="frameworks/bootstrap/dist/js/bootstrap.js"></script>
    <script src="frameworks/angular/angular.js"></script>
    <script src="frameworks/angular-dragdrop/src/angular-dragdrop.js"></script>
    <script src="frameworks/ngstorage/ngstorage.js"></script>
    <script src="scripts/plannr.js"></script>
</head>
<body>
<div class="text-center"><h1>PLANNR - WEEKLY SCHEDULE</h1></div>
<div class="menu text-center"   ng-controller="menuCtrl">
    <ul class="list-inline">
        <li ng-repeat="subject in subjects">
            <div data-drag="true" data-jqyoui-options="{revert: 'invalid', helper: 'clone'}"
                 jqyoui-draggable="{animate:true,placeholder: 'keep', icon: '{{subject.icon}}',color: '{{subject.color}}', name: '{{subject.title}}'} "
                 class="btn btn-default btn-draggable" ng-class="subject.color"><i ng-if="subject.icon"
                                                                                   class="icon fa fa-{{subject.icon}}"></i>
                {{subject.title}}
            </div>
        </li>
    </ul>
</div>
<div class="responsive-table" ng-controller="scheduleCtrl">
    <table class="table">
        <tr>
            <th class="text-center"><i class="fa fa-clock-o"></i> </th>
            <th class="text-center" ng-repeat="day in days">{{day}}</th>
        </tr>
        <tr ng-repeat="time in $storage.schedule">
            <td>{{time.clock}}</td>
            <td ng-class="time[day].color" ng-repeat="day in days" data-drop="true" data-hour="{{time.index}}" data-day="{{day}}" jqyoui-droppable="{multiple:false, onDrop: 'addStuff'}">
                <div class="text-center" ng-if="time[day]">
                    <i ng-if="day != 'Monday'" class="fa fa-chevron-circle-left" ng-click="plan(time.index, days[days.indexOf(day)-1], time[day])"></i>
                    <i ng-if="time.index > 0" class="fa fa-chevron-circle-up" ng-click="plan(time.index-1, days[days.indexOf(day)], time[day])"></i>
                    <i ng-if="time[day].icon"
                       class="icon fa fa-{{time[day].icon}}"></i>
                     {{time[day].title}}
                    <i ng-click="remove(time.index, day)" class="fa fa-remove"></i>
                    <i ng-if="time.index < 22" class="fa fa-chevron-circle-down" ng-click="plan(time.index+1, days[days.indexOf(day)], time[day])"></i>
                    <i ng-if="day != 'Sunday'" class="fa fa-chevron-circle-right"  ng-click="plan(time.index, days[days.indexOf(day)+1], time[day])"></i>
                </div>
            </td>
        </tr>
    </table>
</div>
</body>
</html>